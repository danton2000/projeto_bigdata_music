{
  "datasets": [
    {
      "name": "95118723",
      "displayName": "tracks_analytics",
      "queryLines": [
        "SELECT * FROM workspace.gold.tracks_analytics"
      ],
      "catalog": "workspace",
      "schema": "gold"
    },
    {
      "name": "5a4cb788",
      "displayName": "genres_summary",
      "queryLines": [
        "SELECT Genre, num_tracks\r\n",
        "FROM workspace.gold.genres_summary\r\n",
        "ORDER BY num_tracks DESC\r\n",
        "LIMIT 5"
      ]
    },
    {
      "name": "581c7bc4",
      "displayName": "jobs_information(SQL)",
      "queryLines": [
        "SELECT\r\n",
        "job.job_id,\r\n",
        "job.name,\r\n",
        "count(*) num_execucoes,\r\n",
        "max(job.change_time)\r\n",
        "FROM system.lakeflow.jobs job\r\n",
        "group by all\r\n",
        "order by max(job.change_time) desc;"
      ]
    }
  ],
  "pages": [
    {
      "name": "906b3465",
      "displayName": "Global Filters",
      "pageType": "PAGE_TYPE_GLOBAL_FILTERS"
    },
    {
      "name": "20511b7d",
      "displayName": "Dashboards",
      "layout": [
        {
          "widget": {
            "name": "2cdb1ae2",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "5a4cb788",
                  "fields": [
                    {
                      "name": "sum(num_tracks)",
                      "expression": "SUM(`num_tracks`)"
                    },
                    {
                      "name": "Genre",
                      "expression": "`Genre`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "sum(num_tracks)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "title": "Total de Musicas"
                  },
                  "format": {
                    "type": "number-plain",
                    "abbreviation": "none",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 2
                    },
                    "hideGroupSeparator": true
                  }
                },
                "color": {
                  "fieldName": "Genre",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": "Outros",
                        "color": {
                          "themeColorType": "canvasBackgroundColor"
                        }
                      }
                    ]
                  },
                  "legend": {
                    "position": "right"
                  },
                  "displayName": "Generos"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Painel - Top 5 Gênero por quantidade de Músicas",
                "showDescription": false
              }
            }
          },
          "position": {
            "x": 0,
            "y": 3,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "7a2da69a",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "95118723",
                  "fields": [
                    {
                      "name": "Genre",
                      "expression": "`Genre`"
                    },
                    {
                      "name": "median(api_popularity)",
                      "expression": "MEDIAN(`api_popularity`)"
                    },
                    {
                      "name": "median(csv_popularity)",
                      "expression": "MEDIAN(`csv_popularity`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "area",
              "encodings": {
                "x": {
                  "fieldName": "Genre",
                  "axis": {
                    "title": "Generos"
                  },
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "natural-order"
                    }
                  }
                },
                "y": {
                  "primary": {
                    "fields": [
                      {
                        "fieldName": "median(api_popularity)"
                      }
                    ],
                    "scale": {
                      "type": "quantitative",
                      "reverse": false,
                      "domain": {
                        "min": 0
                      }
                    },
                    "axis": {
                      "hideGrid": false,
                      "hideLabels": false,
                      "title": "Mediana Popularidade API"
                    }
                  },
                  "secondary": {
                    "fields": [
                      {
                        "fieldName": "median(csv_popularity)"
                      }
                    ],
                    "scale": {
                      "type": "quantitative"
                    }
                  }
                },
                "color": {
                  "legend": {
                    "hide": false,
                    "title": "",
                    "hideTitle": true,
                    "position": "top"
                  }
                }
              },
              "frame": {
                "showDescription": false,
                "title": "Painel -  Mostrando a Populariade das Musicas pelo Genero",
                "showTitle": true
              },
              "mark": {
                "colors": [
                  {
                    "themeColorType": "visualizationColors",
                    "position": 2
                  },
                  "#02ACDF",
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 4
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 5
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 6
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  }
                ],
                "layout": "stack"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 9,
            "width": 6,
            "height": 8
          }
        },
        {
          "widget": {
            "name": "2d192a9d",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "95118723",
                  "fields": [
                    {
                      "name": "artist_name",
                      "expression": "`artist_name`"
                    },
                    {
                      "name": "median(api_popularity)",
                      "expression": "MEDIAN(`api_popularity`)"
                    },
                    {
                      "name": "median(csv_popularity)",
                      "expression": "MEDIAN(`csv_popularity`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "artist_name",
                  "scale": {
                    "type": "categorical",
                    "categorySize": {
                      "type": "number-of-categories",
                      "number": 10
                    },
                    "sort": {
                      "by": "y-reversed"
                    }
                  },
                  "axis": {
                    "title": "Artistas"
                  }
                },
                "y": {
                  "axis": {
                    "title": "Popularidade",
                    "hideTitle": false
                  },
                  "scale": {
                    "type": "quantitative"
                  },
                  "fields": [
                    {
                      "fieldName": "median(api_popularity)"
                    },
                    {
                      "fieldName": "median(csv_popularity)"
                    }
                  ]
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "headerAlignment": "center",
                "title": "Painel - Mediana da popularidade dos Artistas",
                "showTitle": true
              },
              "mark": {
                "layout": "group"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 3,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "8c9e2b97",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "581c7bc4",
                  "fields": [
                    {
                      "name": "name",
                      "expression": "`name`"
                    },
                    {
                      "name": "num_execucoes",
                      "expression": "`num_execucoes`"
                    },
                    {
                      "name": "max(change_time)",
                      "expression": "`max(change_time)`"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`name` IN ('Job Carga Arquivo - Bronze e Silver', 'Job Carga Spotify - Bronze, Silver e Gold')"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "Nome do Job",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "cellFormat": {
                      "default": {
                        "foregroundColor": null
                      },
                      "rules": []
                    }
                  },
                  {
                    "fieldName": "num_execucoes",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100002,
                    "title": "Numero de Execuções",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false
                  },
                  {
                    "fieldName": "max(change_time)",
                    "dateTimeFormat": "DD/MM/YYYY HH:mm:ss",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 100003,
                    "title": "Ultma Execução",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "cellFormat": {
                      "default": {
                        "foregroundColor": null
                      },
                      "rules": []
                    }
                  }
                ]
              },
              "invisibleColumns": [
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "job_id",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100000,
                  "title": "job_id",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                }
              ],
              "allowHTMLByDefault": false,
              "itemsPerPage": 5,
              "paginationSize": "default",
              "condensed": false,
              "withRowNumber": false,
              "firstNFrozenColumns": 0,
              "frame": {
                "showTitle": true,
                "title": "Painel - Gestão dos Jobs"
              }
            }
          },
          "position": {
            "x": 1,
            "y": 0,
            "width": 4,
            "height": 3
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    }
  ],
  "uiSettings": {
    "theme": {
      "canvasBackgroundColor": {
        "light": "#FAFAFB",
        "dark": "#1F272D"
      },
      "widgetBackgroundColor": {
        "light": "#FFFFFF",
        "dark": "#11171C"
      },
      "fontColor": {
        "light": "#11171C",
        "dark": "#E8ECF0"
      },
      "selectionColor": {
        "light": "#2272B4",
        "dark": "#8ACAFF"
      },
      "visualizationColors": [
        "#077A9D",
        "#FFAB00",
        "#00A972",
        "#FF3621",
        "#8BCAE7",
        "#AB4057",
        "#99DDB4",
        "#FCA4A1",
        "#919191",
        "#BF7080"
      ],
      "widgetHeaderAlignment": "LEFT"
    },
    "genieSpace": {
      "isEnabled": false
    }
  }
}
